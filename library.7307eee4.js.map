{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,yJAcA,EAAAC,EAAAC,eACA,EAAAC,EAAAC,aAEA,EAAAC,EAAAC,kBAEAP,EAAAQ,KAAKC,gBAAgBC,iBAAiB,SAiBtC,SAA2BC,GACzB,GAA0B,WAAtBA,EAAEC,OAAOC,SACX,OAEEF,EAAEC,OAAOE,UAAUC,SAAS,oBAC9Bf,EAAAQ,KAAKQ,cAAcF,UAAUG,IAAI,iBACjCjB,EAAAQ,KAAKU,WAAWJ,UAAUK,OAAO,kBAEjC,EAAAC,EAAAC,aAAYC,EAAAC,WAAWC,gBAAgB,IAKrCb,EAAEC,OAAOE,UAAUC,SAAS,iBAC9Bf,EAAAQ,KAAKU,WAAWJ,UAAUG,IAAI,iBAC9BjB,EAAAQ,KAAKQ,cAAcF,UAAUK,OAAO,kBAEpC,EAAAC,EAAAC,aAAYC,EAAAC,WAAWE,aAAa,OAjCxCzB,EAAAQ,KAAKkB,YAAYhB,iBAAiB,SA0ClC,SAAwBC,GACtB,MAAMgB,EAAYhB,EAAEC,OAAOgB,WAAWA,WACtC,GAA2B,OAAvBD,EAAUd,SACZ,OAEF,MAAMgB,EAAOP,EAAAC,WAAWO,MAAMC,MAAK,EAACC,GAAEA,KAASA,GAAML,EAAUK,MAE/D,EAAAC,EAAAC,WAAUL,MAhDZ7B,EAAAQ,KAAK2B,mBAAmBzB,iBAAiB,QAAS0B,EAAAC,mBAAmB,IAarE,EAAAjB,EAAAC,aAAYC,EAAAC,WAAWC,gBAAgB,IA0BvC,EAAAc,EAAAC","sources":["src/library.js"],"sourcesContent":["import { refs } from './js/references/reference.js';\nimport { onTopArrow } from './js/components/lift-up.js';\nimport { fillModal } from './js/components/modal/fillModal.js';\nimport { onSwitch } from './js/components/switch.js';\nimport { onPaginationClick } from './js/pagination/onPaginationClick.js';\nimport { renderFilms } from './js/render/renderFilms.js';\nimport { apiService } from './js/API/api-service.js';\nimport { toggleBackdrop } from './js/components/modal/backdrop.js';\nimport { renderPagination } from './js/pagination/pagination.js';\nimport { spinnerOn } from './js/components/spinner.js';\nimport { spinnerOff } from './js/components/spinner.js';\nimport { onSmoothScroll } from './js/components/smoothScroll.js';\nimport templatePlugEmpty from './templates/template-plug-empty.hbs';\n\nonTopArrow();\nonSwitch();\n\nonSmoothScroll();\n\nrefs.libraryControls.addEventListener('click', onLibraryControls);\nrefs.contentList.addEventListener('click', onGetInfoClick);\nrefs.paginationControls.addEventListener('click', onPaginationClick, true);\n\n// async function filmRender() {\n//   const data = await apiService.fetchWatched();\n\n//   const render = await renderFilms(data, true);\n\n//   if (!apiService.watched.length) {\n//     refs.contentList.innerHTML = templatePlugEmpty();\n//   }\n//   return render;\n// }\n// filmRender();\nrenderFilms(apiService.fetchWatched(), true);\n\nfunction onLibraryControls(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  if (e.target.classList.contains('js-btn-watched')) {\n    refs.libWatchedBtn.classList.add('btn-js-active');\n    refs.libQeueBtn.classList.remove('btn-js-active');\n\n    renderFilms(apiService.fetchWatched(), true);\n    // if (!apiService.watched.length) {\n    //   refs.contentList.innerHTML = templatePlugEmpty();\n    // }\n  }\n  if (e.target.classList.contains('js-btn-qeue')) {\n    refs.libQeueBtn.classList.add('btn-js-active');\n    refs.libWatchedBtn.classList.remove('btn-js-active');\n\n    renderFilms(apiService.fetchQeue(), true);\n    // if (!apiService.qeue.length) {\n    //   refs.contentList.innerHTML = templatePlugEmpty();\n    // }\n  }\n}\n\ntoggleBackdrop();\n\nfunction onGetInfoClick(e) {\n  const filmClick = e.target.parentNode.parentNode;\n  if (filmClick.nodeName !== 'LI') {\n    return;\n  }\n  const film = apiService.films.find(({ id }) => id == filmClick.id);\n\n  fillModal(film);\n}\n"],"names":["$g3W78","parcelRequire","$j7Oh7","onTopArrow","$eWl5n","onSwitch","$5yo3f","onSmoothScroll","refs","libraryControls","addEventListener","e","target","nodeName","classList","contains","libWatchedBtn","add","libQeueBtn","remove","$iox0Q","renderFilms","$8P1Rs","apiService","fetchWatched","fetchQeue","contentList","filmClick","parentNode","film","films","find","id","$c7dDA","fillModal","paginationControls","$1pvbX","onPaginationClick","$iYVxn","toggleBackdrop"],"version":3,"file":"library.7307eee4.js.map"}