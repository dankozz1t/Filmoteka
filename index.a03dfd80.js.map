{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,wGCAAD,EAAAC,EAAA,S,8BD0CA,SAASC,EAAeC,GACtB,IAAMC,EAAYD,EAAEE,OAAOC,WAAWA,WACtC,GAA2B,OAAvBF,EAAUG,SAAd,CAGA,IAAMC,EAAOC,EAAAC,WAAWC,MAAMC,MAAK,SAAAC,G,OAAKA,EAAFC,IAAeV,EAAUU,OAE/D,EAAAC,EAAAC,WAAUR,I,YA/BZ,EAAAS,EAAAC,eACA,EAAAC,EAAAC,aAEA,EAAAC,EAAAC,kBAEAtB,EAAAuB,KAAKC,YAAYC,iBAAiB,QAASvB,GAC3CF,EAAAuB,KAAKG,KAAKD,iBAAiB,UA4B3B,SAAsBtB,GACpBA,EAAEwB,iBClDF3B,EAAAuB,KAAKK,QAAQC,UAAUC,OAAO,mBDsD9B,IAAMC,EAAQ5B,EAAEE,OAAO2B,SAASD,MAAME,MAElCC,EAAc,GAClBzB,EAAAC,WAAWyB,WAAaJ,EACxB5B,EAAEE,OAAO2B,SAASD,MAAME,MAAQ,GAEhCxB,EAAAC,WAAW0B,oBAAoBC,MAAK,SAAAxB,G,IAAGyB,EAAIzB,EAAJyB,KAChCA,EAAKC,QAAQC,QAOhBN,EAAczB,EAAAC,WAAWyB,YACzB,EAAAM,EAAAC,aAAYJ,EAAKC,WAPjB9B,EAAAC,WAAWyB,WAAaD,EACxBlC,EAAAuB,KAAKoB,eAAeC,UAAY,+BAChCC,YAAW,WACT7C,EAAAuB,KAAKoB,eAAeC,UAAY,KAC/B,SC9DP5C,EAAAuB,KAAKK,QAAQC,UAAUiB,IAAI,sBDkB7B9C,EAAAuB,KAAKwB,mBAAmBtB,iBAAiB,QAASuB,EAAAC,mBAClDjD,EAAAuB,KAAKC,YAAYC,iBAAiB,QAASvB,GAG3CO,EAAAC,WAAWwC,aAAab,MAAK,SAAAxB,G,IAAGyB,EAAIzB,EAAJyB,KACzB7B,EAAAC,WAAWyC,WACd1C,EAAAC,WAAW0C,eAGb,EAAAX,EAAAC,aAAYJ,EAAKC,UACjB,EAAAc,EAAAC,kBACA,EAAAC,EAAAC,kBAAiB/C,EAAAC,WAAW+C,KAAMhD,EAAAC,WAAWgD,gBAI/C,EAAAC,EAAAC,kB","sources":["src/index.js","src/js/components/spinner.js"],"sourcesContent":["import { refs } from './js/references/reference.js';\nimport { onTopArrow } from './js/components/lift-up.js';\nimport { fillModal } from './js/components/modal/fillModal.js';\nimport { onSwitch } from './js/components/switch.js';\nimport { onPaginationClick } from './js/pagination/onPaginationClick.js';\nimport { renderFilms } from './js/render/renderFilms.js';\nimport { apiService } from './js/API/api-service.js';\nimport { toggleBackdrop } from './js/components/modal/backdrop.js';\nimport { renderPagination } from './js/pagination/pagination.js';\nimport { spinnerOn } from './js/components/spinner.js';\nimport { spinnerOff } from './js/components/spinner.js';\nimport { onSmoothScroll } from './js/components/smoothScroll.js';\n\nimport { renederSlider } from './js/components/slider.js';\n\nimport Flickity from 'flickity';\nimport 'flickity/dist/flickity.css';\n\nonTopArrow();\nonSwitch();\n\nonSmoothScroll();\n\nrefs.contentList.addEventListener('click', onGetInfoClick);\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.paginationControls.addEventListener('click', onPaginationClick);\nrefs.contentList.addEventListener('click', onGetInfoClick);\n\n//finction fetch popular films\napiService.fetchFilms().then(({ data }) => {\n  if (!apiService.allGenres) {\n    apiService.fetchGenres();\n  }\n\n  renderFilms(data.results);\n  renederSlider();\n  renderPagination(apiService.page, apiService.totalPages);\n});\n// ----------\n\ntoggleBackdrop();\n\nfunction onGetInfoClick(e) {\n  const filmClick = e.target.parentNode.parentNode;\n  if (filmClick.nodeName !== 'LI') {\n    return;\n  }\n  const film = apiService.films.find(({ id }) => id == filmClick.id);\n\n  fillModal(film);\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  spinnerOn();\n\n  const query = e.target.elements.query.value;\n\n  let currentName = '';\n  apiService.searchName = query;\n  e.target.elements.query.value = '';\n\n  apiService.fetchImagesByName().then(({ data }) => {\n    if (!data.results.length) {\n      apiService.searchName = currentName;\n      refs.failureMessage.innerHTML = 'Search result not successful';\n      setTimeout(() => {\n        refs.failureMessage.innerHTML = '';\n      }, 900);\n    } else {\n      currentName = apiService.searchName;\n      renderFilms(data.results);\n    }\n  });\n  spinnerOff();\n}\n","import { refs } from '../references/reference.js';\n\nexport function spinnerOn() {\n  refs.spinner.classList.remove('visually-hidden');\n}\n\nexport function spinnerOff() {\n  refs.spinner.classList.add('visually-hidden');\n}\n"],"names":["$8WtWA","parcelRequire","$b8f9b7833fa37166$var$onGetInfoClick","e","filmClick","target","parentNode","nodeName","film","$Zuc0h","apiService","films","find","param","id","$ghGgz","fillModal","$f9aXX","onTopArrow","$3JHuO","onSwitch","$dnnWp","onSmoothScroll","refs","contentList","addEventListener","form","preventDefault","spinner","classList","remove","query","elements","value","currentName","searchName","fetchImagesByName","then","data","results","length","$8Uxjr","renderFilms","failureMessage","innerHTML","setTimeout","add","paginationControls","$9cZxh","onPaginationClick","fetchFilms","allGenres","fetchGenres","$etYyt","renederSlider","$bOuzt","renderPagination","page","totalPages","$fEg2c","toggleBackdrop"],"version":3,"file":"index.a03dfd80.js.map"}