{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,yKCKIC,EAHyBC,EADzBF,EAAA,UACoCG,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,MAAO,4fACTC,SAAU,I,SDmBGC,I,OAAAA,EAAfV,EAAAH,EAAA,CAAAG,EAAAW,GAAAC,MAAA,SAAAC,I,IACQL,EAEAM,E,kFAFaC,EAAAC,WAAWC,e,cAAxBT,EAAIU,EAAAC,K,UAEW,EAAAC,EAAAC,aAAYb,G,cAA3BM,EAAMI,EAAAC,KACPJ,EAAAC,WAAWM,QAAQC,SACtBC,EAAAC,KAAKC,YAAYC,UAAY5B,K,kBAExBe,G,4CAPgBc,MAAAC,KAAAC,WAqCzB,SAASC,EAAgBC,GACnBA,EAAIC,UAAUC,SAAS,eACzBF,EAAIC,UAAUE,QAAQ,cAAe,cAIvCH,EAAIC,UAAUE,QAAQ,aAAc,gBApDtC,EAAAC,EAAAC,eACA,EAAAC,EAAAC,aAEA,EAAAC,EAAAC,kBAEAjB,EAAAC,KAAKiB,gBAAgBC,iBAAiB,SAgBtC,SAA2BC,GACzB,GAA0B,WAAtBA,EAAEC,OAAOC,SACX,OAEEF,EAAEC,OAAOZ,UAAUC,SAAS,oBAC9BH,EAAgBa,EAAEG,cAAcC,SAAS,GAAGC,mBAC5ClB,EAAgBa,EAAEG,cAAcC,SAAS,GAAGC,oBAE5C,EAAA7B,EAAAC,aAAYN,EAAAC,WAAWC,gBAClBF,EAAAC,WAAWM,QAAQC,SACtBC,EAAAC,KAAKC,YAAYC,UAAY5B,MAG7B6C,EAAEC,OAAOZ,UAAUC,SAAS,iBAC9BH,EAAgBa,EAAEG,cAAcC,SAAS,GAAGC,mBAC5ClB,EAAgBa,EAAEG,cAAcC,SAAS,GAAGC,oBAE5C,EAAA7B,EAAAC,aAAYN,EAAAC,WAAWkC,aAClBnC,EAAAC,WAAWmC,KAAK5B,SACnBC,EAAAC,KAAKC,YAAYC,UAAY5B,SAlCnCyB,EAAAC,KAAKC,YAAYiB,iBAAiB,SAmDlC,SAAwBC,GACtB,IAAMQ,EAAYR,EAAEC,OAAOQ,WAAWA,WACtC,GAA2B,OAAvBD,EAAUN,SACZ,OAEF,IAAMQ,EAAOvC,EAAAC,WAAWuC,MAAMC,MAAK,SAAAC,G,OAAKA,EAAFC,IAAeN,EAAUM,OAE/D,EAAAC,EAAAC,WAAUN,MAzDZ9B,EAAAC,KAAKoC,mBAAmBlB,iBAAiB,QAASmB,EAAAC,mB,WAEnCrD,EAAUkB,MAAAC,KAAAC,WAUzBkC,GA0BAC,EAAAC,kBAUA,EAAAC,EAAAC,kB","sources":["src/library.js","src/templates/template-plug-empty.hbs"],"sourcesContent":["import { refs } from './js/references/reference.js';\nimport { onTopArrow } from './js/components/lift-up.js';\nimport { fillModal } from './js/components/modal/fillModal.js';\nimport { onSwitch } from './js/components/switch.js';\nimport { onPaginationClick } from './js/pagination/onPaginationClick.js';\nimport { renderFilms } from './js/render/renderFilms.js';\nimport { apiService } from './js/API/api-service.js';\nimport { toggleBackdrop } from './js/components/modal/backdrop.js';\nimport { renderPagination } from './js/pagination/pagination.js';\nimport { spinnerOn } from './js/components/spinner.js';\nimport { spinnerOff } from './js/components/spinner.js';\nimport { onSmoothScroll } from './js/components/smoothScroll.js';\nimport templatePlugEmpty from './templates/template-plug-empty.hbs';\n\nonTopArrow();\nonSwitch();\n\nonSmoothScroll();\n\nrefs.libraryControls.addEventListener('click', onLibraryControls);\nrefs.contentList.addEventListener('click', onGetInfoClick);\nrefs.paginationControls.addEventListener('click', onPaginationClick);\n\nasync function filmRender() {\n  const data = await apiService.fetchWatched();\n\n  const render = await renderFilms(data);\n  if (!apiService.watched.length) {\n    refs.contentList.innerHTML = templatePlugEmpty();\n  }\n  return render;\n}\n\nfilmRender();\n\nfunction onLibraryControls(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  if (e.target.classList.contains('js-btn-watched')) {\n    reverseBtnStyle(e.currentTarget.children[1].firstElementChild);\n    reverseBtnStyle(e.currentTarget.children[0].firstElementChild);\n\n    renderFilms(apiService.fetchWatched());\n    if (!apiService.watched.length) {\n      refs.contentList.innerHTML = templatePlugEmpty();\n    }\n  }\n  if (e.target.classList.contains('js-btn-qeue')) {\n    reverseBtnStyle(e.currentTarget.children[1].firstElementChild);\n    reverseBtnStyle(e.currentTarget.children[0].firstElementChild);\n\n    renderFilms(apiService.fetchQeue());\n    if (!apiService.qeue.length) {\n      refs.contentList.innerHTML = templatePlugEmpty();\n    }\n  }\n}\n\nrenderPagination;\nfunction reverseBtnStyle(btn) {\n  if (btn.classList.contains('btn--accent')) {\n    btn.classList.replace('btn--accent', 'btn--white');\n\n    return;\n  }\n  btn.classList.replace('btn--white', 'btn--accent');\n}\n\ntoggleBackdrop();\n\nfunction onGetInfoClick(e) {\n  const filmClick = e.target.parentNode.parentNode;\n  if (filmClick.nodeName !== 'LI') {\n    return;\n  }\n  const film = apiService.films.find(({ id }) => id == filmClick.id);\n\n  fillModal(film);\n}\n","  <div class=\"container content-library__card\">\n    <div class=\"content-library__img-card\">\n      <img src=\"https://i.imgur.com/iLiA7oC.png\" alt=\"mike\" class=\"content-library__image\" />\n    </div>\n    <div class=\"content-library__list\">\n      <h2 class=\"content-library__title\">Ouhh... it's empty in here!</h2>\n      <p class=\"content-library__text\">\n        <a class=\"content-library__link\" href=\"./index.html\">Go back</a> and add\n        your favorite movies.\n      </p>\n    </div>\n  </div>"],"names":["$bpxeT","parcelRequire","$eb1018d0c4d76d5e$export$2e2bcd8739ae039","$parcel$interopDefault","template","compiler","main","container","depth0","helpers","partials","data","useData","$cecbdd76f2d3d4bd$var$_filmRender","$2TvXO","mark","_callee","render","$Zuc0h","apiService","fetchWatched","_ctx","sent","$8Uxjr","renderFilms","watched","length","$8WtWA","refs","contentList","innerHTML","apply","this","arguments","$cecbdd76f2d3d4bd$var$reverseBtnStyle","btn","classList","contains","replace","$f9aXX","onTopArrow","$3JHuO","onSwitch","$dnnWp","onSmoothScroll","libraryControls","addEventListener","e","target","nodeName","currentTarget","children","firstElementChild","fetchQeue","qeue","filmClick","parentNode","film","films","find","param","id","$ghGgz","fillModal","paginationControls","$9cZxh","onPaginationClick","$cecbdd76f2d3d4bd$var$filmRender","$bOuzt","renderPagination","$fEg2c","toggleBackdrop"],"version":3,"file":"library.f260964b.js.map"}